[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Jaqueline Vallejo Hinojosa",
    "section": "",
    "text": "Welcome to my website!"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site"
  },
  {
    "objectID": "resume.html",
    "href": "resume.html",
    "title": "Resume",
    "section": "",
    "text": "Download PDF file."
  },
  {
    "objectID": "blog/project1/index.html",
    "href": "blog/project1/index.html",
    "title": "This is Project 1",
    "section": "",
    "text": "I cleaned some data\n\n\n\nI analyzed the data"
  },
  {
    "objectID": "blog/project1/index.html#section-1-data",
    "href": "blog/project1/index.html#section-1-data",
    "title": "This is Project 1",
    "section": "",
    "text": "I cleaned some data"
  },
  {
    "objectID": "blog/project1/index.html#section-2-analysis",
    "href": "blog/project1/index.html#section-2-analysis",
    "title": "This is Project 1",
    "section": "",
    "text": "I analyzed the data"
  },
  {
    "objectID": "blog.html",
    "href": "blog.html",
    "title": "My Projects",
    "section": "",
    "text": "This is Project 1\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nThis is Project 2\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nA Replication of Karlan and List (2007)\n\n\n\n\n\n\nJaqueline Vallejo Hinojosa\n\n\nApr 23, 2025\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "blog/project2/index.html",
    "href": "blog/project2/index.html",
    "title": "This is Project 2",
    "section": "",
    "text": "I cleaned some data\n\n\n\nI analyzed the data"
  },
  {
    "objectID": "blog/project2/index.html#section-1-data",
    "href": "blog/project2/index.html#section-1-data",
    "title": "This is Project 2",
    "section": "",
    "text": "I cleaned some data"
  },
  {
    "objectID": "blog/project2/index.html#section-2-analysis",
    "href": "blog/project2/index.html#section-2-analysis",
    "title": "This is Project 2",
    "section": "",
    "text": "I analyzed the data"
  },
  {
    "objectID": "blog/project3/index.html",
    "href": "blog/project3/index.html",
    "title": "This is Project 3",
    "section": "",
    "text": "This is Project 3"
  },
  {
    "objectID": "blog/project3/hw1_questions.html",
    "href": "blog/project3/hw1_questions.html",
    "title": "A Replication of Karlan and List (2007)",
    "section": "",
    "text": "Dean Karlan at Yale and John List at the University of Chicago conducted a field experiment to test the effectiveness of different fundraising letters. They sent out 50,000 fundraising letters to potential donors, randomly assigning each letter to one of three treatments: a standard letter, a matching grant letter, or a challenge grant letter. They published the results of this experiment in the American Economic Review in 2007. The article and supporting data are available from the AEA website and from Innovations for Poverty Action as part of Harvard’s Dataverse.\nIn their study, Karlan and List (2007) conducted a large-scale natural field experiment to investigate the role of price in charitable giving. The experiment involved more than 50,000 prior donors to a U.S.-based nonprofit organization. Individuals were randomly assigned to receive one of several types of fundraising letters: a control letter with no matching offer or a treatment letter offering matching grants at varying ratios—1:1, 2:1, or 3:1. Additionally, the researchers introduced random variation in the maximum match amount ($25,000, $50,000, $100,000, or unstated) and in the suggested donation amount (equal to, or 1.25 or 1.5 times the donor’s previous contribution).\nThe primary objective was to assess whether and to what extent price manipulation—via matching grants—affects donation behavior. The findings indicate that the mere announcement of a matching grant significantly increased both the likelihood of donation (by 22 percent) and the revenue per solicitation (by 19 percent). However, increasing the generosity of the match beyond a 1:1 ratio (i.e., to 2:1 or 3:1) yielded no additional gains in donation rates or amounts, challenging the prevailing assumption in fundraising practice that larger match ratios are more effective.\nFurthermore, the study revealed substantial heterogeneity in treatment effects across political contexts. The matching grant was significantly more effective in conservative-leaning (“red”) states than in liberal-leaning (“blue”) states, underscoring the importance of local sociopolitical context in moderating the effectiveness of economic incentives.\nThis experiment provides robust empirical evidence for the behavioral underpinnings of charitable giving and offers important insights for both economic theory and the practical design of fundraising campaigns.\nThis project seeks to replicate their results."
  },
  {
    "objectID": "blog/project3/hw1_questions.html#introduction",
    "href": "blog/project3/hw1_questions.html#introduction",
    "title": "A Replication of Karlan and List (2007)",
    "section": "",
    "text": "Dean Karlan at Yale and John List at the University of Chicago conducted a field experiment to test the effectiveness of different fundraising letters. They sent out 50,000 fundraising letters to potential donors, randomly assigning each letter to one of three treatments: a standard letter, a matching grant letter, or a challenge grant letter. They published the results of this experiment in the American Economic Review in 2007. The article and supporting data are available from the AEA website and from Innovations for Poverty Action as part of Harvard’s Dataverse.\nIn their study, Karlan and List (2007) conducted a large-scale natural field experiment to investigate the role of price in charitable giving. The experiment involved more than 50,000 prior donors to a U.S.-based nonprofit organization. Individuals were randomly assigned to receive one of several types of fundraising letters: a control letter with no matching offer or a treatment letter offering matching grants at varying ratios—1:1, 2:1, or 3:1. Additionally, the researchers introduced random variation in the maximum match amount ($25,000, $50,000, $100,000, or unstated) and in the suggested donation amount (equal to, or 1.25 or 1.5 times the donor’s previous contribution).\nThe primary objective was to assess whether and to what extent price manipulation—via matching grants—affects donation behavior. The findings indicate that the mere announcement of a matching grant significantly increased both the likelihood of donation (by 22 percent) and the revenue per solicitation (by 19 percent). However, increasing the generosity of the match beyond a 1:1 ratio (i.e., to 2:1 or 3:1) yielded no additional gains in donation rates or amounts, challenging the prevailing assumption in fundraising practice that larger match ratios are more effective.\nFurthermore, the study revealed substantial heterogeneity in treatment effects across political contexts. The matching grant was significantly more effective in conservative-leaning (“red”) states than in liberal-leaning (“blue”) states, underscoring the importance of local sociopolitical context in moderating the effectiveness of economic incentives.\nThis experiment provides robust empirical evidence for the behavioral underpinnings of charitable giving and offers important insights for both economic theory and the practical design of fundraising campaigns.\nThis project seeks to replicate their results."
  },
  {
    "objectID": "blog/project3/hw1_questions.html#data",
    "href": "blog/project3/hw1_questions.html#data",
    "title": "A Replication of Karlan and List (2007)",
    "section": "Data",
    "text": "Data\n\nimport pandas as pd\n\nkarlan_list_2007 = pd.read_stata('karlan_list_2007.dta')\nkarlan_list_2007.head() # shows the first 5 rows of the data\n\n\n\n\n\n\n\n\ntreatment\ncontrol\nratio\nratio2\nratio3\nsize\nsize25\nsize50\nsize100\nsizeno\n...\nredcty\nbluecty\npwhite\npblack\npage18_39\nave_hh_sz\nmedian_hhincome\npowner\npsch_atlstba\npop_propurban\n\n\n\n\n0\n0\n1\nControl\n0\n0\nControl\n0\n0\n0\n0\n...\n0.0\n1.0\n0.446493\n0.527769\n0.317591\n2.10\n28517.0\n0.499807\n0.324528\n1.0\n\n\n1\n0\n1\nControl\n0\n0\nControl\n0\n0\n0\n0\n...\n1.0\n0.0\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n2\n1\n0\n1\n0\n0\n$100,000\n0\n0\n1\n0\n...\n0.0\n1.0\n0.935706\n0.011948\n0.276128\n2.48\n51175.0\n0.721941\n0.192668\n1.0\n\n\n3\n1\n0\n1\n0\n0\nUnstated\n0\n0\n0\n1\n...\n1.0\n0.0\n0.888331\n0.010760\n0.279412\n2.65\n79269.0\n0.920431\n0.412142\n1.0\n\n\n4\n1\n0\n1\n0\n0\n$50,000\n0\n1\n0\n0\n...\n0.0\n1.0\n0.759014\n0.127421\n0.442389\n1.85\n40908.0\n0.416072\n0.439965\n1.0\n\n\n\n\n5 rows × 51 columns\n\n\n\n\nDescription\nThe dataset consists of 50,083 observations and 51 variables, capturing a wide range of information related to donation behavior, treatment effects, demographics, and geographic/political context. Key variables include treatment and control group indicators, donation amounts, and various “ask” strategies, along with demographic attributes like gender, education, and income. It also includes regional data such as state-level responses and political leanings.\n\n\n\n\n\n\nVariable Definitions\n\n\n\n\n\n\n\n\n\n\n\n\nVariable\nDescription\n\n\n\n\ntreatment\nTreatment\n\n\ncontrol\nControl\n\n\nratio\nMatch ratio\n\n\nratio2\n2:1 match ratio\n\n\nratio3\n3:1 match ratio\n\n\nsize\nMatch threshold\n\n\nsize25\n$25,000 match threshold\n\n\nsize50\n$50,000 match threshold\n\n\nsize100\n$100,000 match threshold\n\n\nsizeno\nUnstated match threshold\n\n\nask\nSuggested donation amount\n\n\naskd1\nSuggested donation was highest previous contribution\n\n\naskd2\nSuggested donation was 1.25 x highest previous contribution\n\n\naskd3\nSuggested donation was 1.50 x highest previous contribution\n\n\nask1\nHighest previous contribution (for suggestion)\n\n\nask2\n1.25 x highest previous contribution (for suggestion)\n\n\nask3\n1.50 x highest previous contribution (for suggestion)\n\n\namount\nDollars given\n\n\ngave\nGave anything\n\n\namountchange\nChange in amount given\n\n\nhpa\nHighest previous contribution\n\n\nltmedmra\nSmall prior donor: last gift was less than median $35\n\n\nfreq\nNumber of prior donations\n\n\nyears\nNumber of years since initial donation\n\n\nyear5\nAt least 5 years since initial donation\n\n\nmrm2\nNumber of months since last donation\n\n\ndormant\nAlready donated in 2005\n\n\nfemale\nFemale\n\n\ncouple\nCouple\n\n\nstate50one\nState tag: 1 for one observation of each of 50 states; 0 otherwise\n\n\nnonlit\nNonlitigation\n\n\ncases\nCourt cases from state in 2004-5 in which organization was involved\n\n\nstatecnt\nPercent of sample from state\n\n\nstateresponse\nProportion of sample from the state who gave\n\n\nstateresponset\nProportion of treated sample from the state who gave\n\n\nstateresponsec\nProportion of control sample from the state who gave\n\n\nstateresponsetminc\nstateresponset - stateresponsec\n\n\nperbush\nState vote share for Bush\n\n\nclose25\nState vote share for Bush between 47.5% and 52.5%\n\n\nred0\nRed state\n\n\nblue0\nBlue state\n\n\nredcty\nRed county\n\n\nbluecty\nBlue county\n\n\npwhite\nProportion white within zip code\n\n\npblack\nProportion black within zip code\n\n\npage18_39\nProportion age 18-39 within zip code\n\n\nave_hh_sz\nAverage household size within zip code\n\n\nmedian_hhincome\nMedian household income within zip code\n\n\npowner\nProportion house owner within zip code\n\n\npsch_atlstba\nProportion who finished college within zip code\n\n\npop_propurban\nProportion of population urban within zip code\n\n\n\n\n\n\n\n\nBalance Test\nAs an ad hoc test of the randomization mechanism, I provide a series of tests that compare aspects of the treatment and control groups to assess whether they are statistically significantly different from one another.\n\nfrom scipy import stats\nimport statsmodels.api as sm\nimport statsmodels.formula.api as smf\n\n# T-test: months since last donation (mrm2)\ntreat_group = karlan_list_2007[karlan_list_2007['treatment'] == 1]['mrm2']\ncontrol_group = karlan_list_2007[karlan_list_2007['control'] == 1]['mrm2']\nt_stat, p_val = stats.ttest_ind(treat_group, control_group, nan_policy='omit')\nprint(\"T-test results:\", t_stat, p_val)\n\n# Regression: mrm2 ~ treatment\nmodel = smf.ols('mrm2 ~ treatment', data=karlan_list_2007).fit()\nprint(model.summary())\n\nT-test results: 0.1194921058159193 0.9048859731777738\n                            OLS Regression Results                            \n==============================================================================\nDep. Variable:                   mrm2   R-squared:                       0.000\nModel:                            OLS   Adj. R-squared:                 -0.000\nMethod:                 Least Squares   F-statistic:                   0.01428\nDate:                Wed, 23 Apr 2025   Prob (F-statistic):              0.905\nTime:                        22:30:26   Log-Likelihood:            -1.9585e+05\nNo. Observations:               50082   AIC:                         3.917e+05\nDf Residuals:                   50080   BIC:                         3.917e+05\nDf Model:                           1                                         \nCovariance Type:            nonrobust                                         \n==============================================================================\n                 coef    std err          t      P&gt;|t|      [0.025      0.975]\n------------------------------------------------------------------------------\nIntercept     12.9981      0.094    138.979      0.000      12.815      13.181\ntreatment      0.0137      0.115      0.119      0.905      -0.211       0.238\n==============================================================================\nOmnibus:                     8031.352   Durbin-Watson:                   2.004\nProb(Omnibus):                  0.000   Jarque-Bera (JB):            12471.135\nSkew:                           1.163   Prob(JB):                         0.00\nKurtosis:                       3.751   Cond. No.                         3.23\n==============================================================================\n\nNotes:\n[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.\n\n\nVariable tested: mrm2 (months since last donation)\nBased on the T-test, the difference in means between treatment and control is very small and statistically insignificant at the 95% confidence level. A p-value of 0.905 is far above the 0.05 threshold, suggesting no meaningful difference in mrm2 between groups.\nIn the linear regression, the coefficient is nearly 0 and has a p-value of 0.905 which confirms the t-test. Hence, both tests indicate no statistically significant difference between the treatment and control groups in months since last donation. This supports the validity of the randomization: the groups appear well-balanced on this baseline covariate.\n\nfrom scipy import stats\nimport statsmodels.api as sm\nimport statsmodels.formula.api as smf\n\n# T-test: number of prior donations (freq)\ntreat_group = karlan_list_2007[karlan_list_2007['treatment'] == 1]['freq']\ncontrol_group = karlan_list_2007[karlan_list_2007['control'] == 1]['freq']\nt_stat, p_val = stats.ttest_ind(treat_group, control_group, nan_policy='omit')\nprint(\"T-test results:\", t_stat, p_val)\n\n# Regression: freq ~ treatment\nmodel = smf.ols('freq ~ treatment', data=karlan_list_2007).fit()\nprint(model.summary())\n\nT-test results: -0.11089297035979982 0.9117016644344591\n                            OLS Regression Results                            \n==============================================================================\nDep. Variable:                   freq   R-squared:                       0.000\nModel:                            OLS   Adj. R-squared:                 -0.000\nMethod:                 Least Squares   F-statistic:                   0.01230\nDate:                Wed, 23 Apr 2025   Prob (F-statistic):              0.912\nTime:                        22:30:26   Log-Likelihood:            -1.9292e+05\nNo. Observations:               50083   AIC:                         3.858e+05\nDf Residuals:                   50081   BIC:                         3.859e+05\nDf Model:                           1                                         \nCovariance Type:            nonrobust                                         \n==============================================================================\n                 coef    std err          t      P&gt;|t|      [0.025      0.975]\n------------------------------------------------------------------------------\nIntercept      8.0473      0.088     91.231      0.000       7.874       8.220\ntreatment     -0.0120      0.108     -0.111      0.912      -0.224       0.200\n==============================================================================\nOmnibus:                    49107.114   Durbin-Watson:                   2.016\nProb(Omnibus):                  0.000   Jarque-Bera (JB):          3644795.393\nSkew:                           4.707   Prob(JB):                         0.00\nKurtosis:                      43.718   Cond. No.                         3.23\n==============================================================================\n\nNotes:\n[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.\n\n\nVariable tested: freq (number of prior donations)\nBased on the T-test, the difference in means between treatment and control is statistically insignificant. The p-value of 0.912 is far above the 0.05 threshold, suggesting no meaningful pre-treatment difference.\nAgain, the results from the linear regression perfectly match the t-test. The coefficient is very close to zero, and the p-value confirms no significant difference in donation frequency between the groups. These results indicate that freq is well-balanced between the treatment and control groups prior to the intervention. This supports the idea that any differences in outcomes after the intervention are not due to pre-existing group differences in donation behavior.\nTable 1 in research papers shows baseline comparisons like the ones above. Its purpose is to demonstrate that the treatment and control groups were similar on observable characteristics before the intervention, which boosts the credibility of the study’s causal claims. If there’s no big difference in key variables before treatment, we can more confidently attribute post-treatment differences to the treatment itself"
  },
  {
    "objectID": "blog/project3/hw1_questions.html#experimental-results",
    "href": "blog/project3/hw1_questions.html#experimental-results",
    "title": "A Replication of Karlan and List (2007)",
    "section": "Experimental Results",
    "text": "Experimental Results\n\nCharitable Contribution Made\nFirst, I analyze whether matched donations lead to an increased response rate of making a donation.\n\nimport matplotlib.pyplot as plt\n\ngrouped = karlan_list_2007.groupby('treatment')['gave'].mean()\ngrouped.plot(kind='bar')\nplt.ylabel('Proportion Donated')\nplt.xlabel('Groups')\nplt.xticks([0, 1], ['Control', 'Treatment'], rotation=0)\nplt.title('Donation Rate by Group')\nplt.show()\n\n\n\n\n\n\n\n\n\n# T-test\ngave_treat = karlan_list_2007[karlan_list_2007['treatment'] == 1]['gave']\ngave_control = karlan_list_2007[karlan_list_2007['control'] == 1]['gave']\nt_stat, p_val = stats.ttest_ind(gave_treat, gave_control, nan_policy='omit')\nprint(\"T-test on donation:\", t_stat, p_val)\n\nT-test on donation: 3.101361000543946 0.0019274025949016982\n\n\nt-statistic = 3.10: The difference in donation rates between the treatment and control groups is about 3 standard errors away from 0.\np-value = 0.0019: This difference is statistically significant at the %1 level meaning that it’s strong evidence that the treatment affected donation behavior. Hence, people in the treatment group were significantly more likely to donate than those in the control group.\n\n# Regression\nmodel = smf.ols('gave ~ treatment', data=karlan_list_2007).fit()\nprint(model.summary())\n\n                            OLS Regression Results                            \n==============================================================================\nDep. Variable:                   gave   R-squared:                       0.000\nModel:                            OLS   Adj. R-squared:                  0.000\nMethod:                 Least Squares   F-statistic:                     9.618\nDate:                Wed, 23 Apr 2025   Prob (F-statistic):            0.00193\nTime:                        22:30:26   Log-Likelihood:                 26630.\nNo. Observations:               50083   AIC:                        -5.326e+04\nDf Residuals:                   50081   BIC:                        -5.324e+04\nDf Model:                           1                                         \nCovariance Type:            nonrobust                                         \n==============================================================================\n                 coef    std err          t      P&gt;|t|      [0.025      0.975]\n------------------------------------------------------------------------------\nIntercept      0.0179      0.001     16.225      0.000       0.016       0.020\ntreatment      0.0042      0.001      3.101      0.002       0.002       0.007\n==============================================================================\nOmnibus:                    59814.280   Durbin-Watson:                   2.005\nProb(Omnibus):                  0.000   Jarque-Bera (JB):          4317152.727\nSkew:                           6.740   Prob(JB):                         0.00\nKurtosis:                      46.440   Cond. No.                         3.23\n==============================================================================\n\nNotes:\n[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.\n\n\nIntercept (0.0179): The baseline donation rate in the control group is 1.79%\nTreatment coefficient (0.0042): Being assigned to the treatment group increases the probability of donating by 0.42 percentage points.Thus, on average, people in the treatment group donated at a rate that was 0.42 percentage points higher than the control group.\np = 0.002 for treatment: This increase is statistically significant hence we’re confident is not just due to random chance.\n\nprobit_model = smf.probit('gave ~ treatment', data=karlan_list_2007).fit()\nprint(probit_model.summary())\n\nOptimization terminated successfully.\n         Current function value: 0.100443\n         Iterations 7\n                          Probit Regression Results                           \n==============================================================================\nDep. Variable:                   gave   No. Observations:                50083\nModel:                         Probit   Df Residuals:                    50081\nMethod:                           MLE   Df Model:                            1\nDate:                Wed, 23 Apr 2025   Pseudo R-squ.:               0.0009783\nTime:                        22:30:26   Log-Likelihood:                -5030.5\nconverged:                       True   LL-Null:                       -5035.4\nCovariance Type:            nonrobust   LLR p-value:                  0.001696\n==============================================================================\n                 coef    std err          z      P&gt;|z|      [0.025      0.975]\n------------------------------------------------------------------------------\nIntercept     -2.1001      0.023    -90.073      0.000      -2.146      -2.054\ntreatment      0.0868      0.028      3.113      0.002       0.032       0.141\n==============================================================================\n\n\nAssignment to the treatment group increases the latent propensity to donate (the z-score of the probability) by 0.087, which is statistically significant at the 1% level.\n\n\nDifferences between Match Rates\nNext, I assess the effectiveness of different sizes of matched donations on the response rate.\n\nfrom scipy import stats\n\n# Filter dataset for only treatment group observations\ntreatments = karlan_list_2007[karlan_list_2007['treatment'] == 1]\n\n# Groups by match ratio\ngave_1to1 = treatments[treatments['ratio'] == 1]['gave']\ngave_2to1 = treatments[treatments['ratio'] == 2]['gave']\ngave_3to1 = treatments[treatments['ratio'] == 3]['gave']\n\n# T-test: 2:1 vs 1:1\nt1, p1 = stats.ttest_ind(gave_2to1, gave_1to1, nan_policy='omit')\nprint(\"2:1 vs 1:1 --&gt; t =\", t1, \", p =\", p1)\n\n# T-test: 3:1 vs 1:1\nt2, p2 = stats.ttest_ind(gave_3to1, gave_1to1, nan_policy='omit')\nprint(\"3:1 vs 1:1 --&gt; t =\", t2, \", p =\", p2)\n\n# T-test: 3:1 vs 2:1\nt3, p3 = stats.ttest_ind(gave_3to1, gave_2to1, nan_policy='omit')\nprint(\"3:1 vs 2:1 --&gt; t =\", t3, \", p =\", p3)\n\n2:1 vs 1:1 --&gt; t = 0.96504713432247 , p = 0.33453168549723933\n3:1 vs 1:1 --&gt; t = 1.0150255853798622 , p = 0.31010466370866724\n3:1 vs 2:1 --&gt; t = 0.05011583793874515 , p = 0.9600305283739325\n\n\nGiven that the p-values are greater than 0.05, there is no statistically significant difference in donation rates between match ratios. This supports the authors’ comment that larger match ratios do not lead to additional increases in giving.\n\n# Creates ratio1 variable\nkarlan_list_2007['ratio1'] = (karlan_list_2007['ratio'] == 1).astype(int)\n\n# Regression on match ratios\nmodel = smf.ols('gave ~ ratio1 + ratio2 + ratio3', data=karlan_list_2007).fit()\nprint(model.summary())\n\n                            OLS Regression Results                            \n==============================================================================\nDep. Variable:                   gave   R-squared:                       0.000\nModel:                            OLS   Adj. R-squared:                  0.000\nMethod:                 Least Squares   F-statistic:                     3.665\nDate:                Wed, 23 Apr 2025   Prob (F-statistic):             0.0118\nTime:                        22:30:26   Log-Likelihood:                 26630.\nNo. Observations:               50083   AIC:                        -5.325e+04\nDf Residuals:                   50079   BIC:                        -5.322e+04\nDf Model:                           3                                         \nCovariance Type:            nonrobust                                         \n==============================================================================\n                 coef    std err          t      P&gt;|t|      [0.025      0.975]\n------------------------------------------------------------------------------\nIntercept      0.0179      0.001     16.225      0.000       0.016       0.020\nratio1         0.0029      0.002      1.661      0.097      -0.001       0.006\nratio2         0.0048      0.002      2.744      0.006       0.001       0.008\nratio3         0.0049      0.002      2.802      0.005       0.001       0.008\n==============================================================================\nOmnibus:                    59812.754   Durbin-Watson:                   2.005\nProb(Omnibus):                  0.000   Jarque-Bera (JB):          4316693.217\nSkew:                           6.740   Prob(JB):                         0.00\nKurtosis:                      46.438   Cond. No.                         4.26\n==============================================================================\n\nNotes:\n[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.\n\n\nCompared to the baseline group (control group), 2:1 and 3:1 match offers significantly increase the probability of donating, by about half a percentage point. However, there is no meaningful difference between 2:1 and 3:1, and 1:1 is not significantly different from the control.\n\n# Only treatment group, since ratios apply there\ntreatments = karlan_list_2007[karlan_list_2007['treatment'] == 1]\n\n# Calculate response rates from data\nrate_1to1 = treatments[treatments['ratio'] == 1]['gave'].mean()\nrate_2to1 = treatments[treatments['ratio'] == 2]['gave'].mean()\nrate_3to1 = treatments[treatments['ratio'] == 3]['gave'].mean()\n\n# Differences\ndiff_2_vs_1 = rate_2to1 - rate_1to1\ndiff_3_vs_2 = rate_3to1 - rate_2to1\n\nprint(\"2:1 vs 1:1 (data difference):\", diff_2_vs_1)\nprint(\"3:1 vs 2:1 (data difference):\", diff_3_vs_2)\n\n# From regression coefficients\ndiff_coef_2_vs_1 = 0.0048 - 0.0029\ndiff_coef_3_vs_2 = 0.0049 - 0.0048\n\nprint(\"2:1 vs 1:1 (coefficient difference):\", diff_coef_2_vs_1)\nprint(\"3:1 vs 2:1 (coefficient difference):\", diff_coef_3_vs_2)\n\n2:1 vs 1:1 (data difference): 0.0018842510217149944\n3:1 vs 2:1 (data difference): 0.00010002398025293902\n2:1 vs 1:1 (coefficient difference): 0.0018999999999999998\n3:1 vs 2:1 (coefficient difference): 0.00010000000000000026\n\n\nBased on the differences, offering a matched donation increases the likelihood that people will give, but increasing the match ratio beyond 1:1 has limited additional effect. The difference between 1:1 and 2:1 matches shows a small improvement in donation rates, but going from 2:1 to 3:1 does not lead to further gains. This suggests that while the presence of a match is important, making the match more generous doesn’t necessarily make it more effective.\n\n\nSize of Charitable Contribution\nIn this subsection, I analyze the effect of the size of matched donation on the size of the charitable contribution.\n\n# Everyone\nmodel = smf.ols('amount ~ treatment', data=karlan_list_2007).fit()\nprint(model.summary())\n\n                            OLS Regression Results                            \n==============================================================================\nDep. Variable:                 amount   R-squared:                       0.000\nModel:                            OLS   Adj. R-squared:                  0.000\nMethod:                 Least Squares   F-statistic:                     3.461\nDate:                Wed, 23 Apr 2025   Prob (F-statistic):             0.0628\nTime:                        22:30:26   Log-Likelihood:            -1.7946e+05\nNo. Observations:               50083   AIC:                         3.589e+05\nDf Residuals:                   50081   BIC:                         3.589e+05\nDf Model:                           1                                         \nCovariance Type:            nonrobust                                         \n==============================================================================\n                 coef    std err          t      P&gt;|t|      [0.025      0.975]\n------------------------------------------------------------------------------\nIntercept      0.8133      0.067     12.063      0.000       0.681       0.945\ntreatment      0.1536      0.083      1.861      0.063      -0.008       0.315\n==============================================================================\nOmnibus:                    96861.113   Durbin-Watson:                   2.008\nProb(Omnibus):                  0.000   Jarque-Bera (JB):        240735713.635\nSkew:                          15.297   Prob(JB):                         0.00\nKurtosis:                     341.269   Cond. No.                         3.23\n==============================================================================\n\nNotes:\n[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.\n\n\nThis regression analyzes the effect of treatment assignment on the average donation amount, including both donors and non-donors. The estimated coefficient for the treatment group is positive ($0.15), indicating a modest increase in average contributions; however, the effect is not statistically significant at conventional levels (p = 0.063). These results suggest limited evidence that the treatment influences donation amounts in the full sample. Given the large proportion of zero donations, the average amount is likely driven by non-donors, underscoring the importance of analyzing conditional effects among donors separately\n\n# Only those who donated\ndonors = karlan_list_2007[karlan_list_2007['gave'] == 1]\nmodel_donors = smf.ols('amount ~ treatment', data=donors).fit()\nprint(model_donors.summary())\n\n                            OLS Regression Results                            \n==============================================================================\nDep. Variable:                 amount   R-squared:                       0.000\nModel:                            OLS   Adj. R-squared:                 -0.001\nMethod:                 Least Squares   F-statistic:                    0.3374\nDate:                Wed, 23 Apr 2025   Prob (F-statistic):              0.561\nTime:                        22:30:26   Log-Likelihood:                -5326.8\nNo. Observations:                1034   AIC:                         1.066e+04\nDf Residuals:                    1032   BIC:                         1.067e+04\nDf Model:                           1                                         \nCovariance Type:            nonrobust                                         \n==============================================================================\n                 coef    std err          t      P&gt;|t|      [0.025      0.975]\n------------------------------------------------------------------------------\nIntercept     45.5403      2.423     18.792      0.000      40.785      50.296\ntreatment     -1.6684      2.872     -0.581      0.561      -7.305       3.968\n==============================================================================\nOmnibus:                      587.258   Durbin-Watson:                   2.031\nProb(Omnibus):                  0.000   Jarque-Bera (JB):             5623.279\nSkew:                           2.464   Prob(JB):                         0.00\nKurtosis:                      13.307   Cond. No.                         3.49\n==============================================================================\n\nNotes:\n[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.\n\n\nAmong those who donated, the treatment had no significant effect on how much they gave. However, because the analysis conditions on a post-treatment outcome, the estimated effect is not causally valid as it introduces bias.\n\n# Plot histograms\nfig, axs = plt.subplots(1, 2, figsize=(12, 5))\nfor i, group in enumerate(['control', 'treatment']):\n    data = donors[donors[group] == 1]['amount']\n    axs[i].hist(data, bins=30, edgecolor='black')\n    mean_val = data.mean()\n    axs[i].axvline(mean_val, color='red', linestyle='dashed',linewidth=2,label=f'Mean: ${mean_val:.2f}')\n    axs[i].set_title(f'{group.title()} Group')\n    axs[i].set_xlabel('Donation Amount')\n    axs[i].set_ylabel('Frequency')\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\nThe plots above display the distribution of donation amounts for both the control and treatment groups. The red dashed line in each plot indicates the sample mean within that group."
  },
  {
    "objectID": "blog/project3/hw1_questions.html#simulation-experiment",
    "href": "blog/project3/hw1_questions.html#simulation-experiment",
    "title": "A Replication of Karlan and List (2007)",
    "section": "Simulation Experiment",
    "text": "Simulation Experiment\nAs a reminder of how the t-statistic “works,” in this section I use simulation to demonstrate the Law of Large Numbers and the Central Limit Theorem.\nSuppose the true distribution of respondents who do not get a charitable donation match is Bernoulli with probability p=0.018 that a donation is made.\nFurther suppose that the true distribution of respondents who do get a charitable donation match of any size is Bernoulli with probability p=0.022 that a donation is made.\n\nLaw of Large Numbers\n\nimport numpy as np\n\ncontrol_draws = np.random.binomial(1, 0.018, 100000)\ntreatment_draws = np.random.binomial(1, 0.022, 100000)\ndiffs = treatment_draws - control_draws\ncumulative_avg = np.cumsum(diffs) / np.arange(1, len(diffs)+1)\n\nplt.plot(cumulative_avg)\nplt.axhline(0.004, color='red', linestyle='--', label='True Difference (0.004)')\nplt.title('Cumulative Average of Differences')\nplt.xlabel('Simulation Number')\nplt.ylabel('Cumulative Avg Difference')\nplt.legend()\nplt.show()\n\n\n\n\n\n\n\n\nBased on the plot, we can observe that the cumulative average of the simulated differences gradually stabilizes and converges toward the true difference in means (0.004), represented by the red dashed line. The average begins to smooth out closely around the true value as the number of simulations increases, clearly demonstrating the Law of Large Number.\n\n\nCentral Limit Theorem\n\nsample_sizes = [50, 200, 500, 1000]\n\nfig, axs = plt.subplots(2, 2, figsize=(12, 10))\nfor i, n in enumerate(sample_sizes):\n    avg_diffs = []\n    for _ in range(1000):\n        control = np.random.binomial(1, 0.018, n)\n        treatment = np.random.binomial(1, 0.022, n)\n        avg_diffs.append(np.mean(treatment) - np.mean(control))\n    \n    ax = axs[i//2][i%2]\n    ax.hist(avg_diffs, bins=30, edgecolor='black')\n    ax.axvline(np.mean(avg_diffs), color='red', linestyle='--')\n    ax.set_title(f'Sample Size: {n}')\n    ax.set_xlabel('Difference in Means')\n    ax.set_ylabel('Frequency')\n\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\nIn the plots with smaller sample sizes (50, 200), zero tends to lie near the center of the distribution because the sampling variability is high and the true difference is small. As the sample size increases (500, 100), the distribution becomes narrower around the true mean difference (which is slightly above zero), and zero shifts toward the tail of the distribution. This indicates that with larger samples, the observed difference becomes more statistically distinguishable from zero."
  }
]